<?xml version="1.0" encoding="UTF-8"?>
<div xmlns="http://www.w3.org/1999/xhtml" data-template="templates:surround" data-template-with="templates/newpage.html" data-template-at="content">
    <div class="w3-container w3-justify  w3-padding-64"> 
        <p>Enter here your XPath 3.0 query to the data. 
        Please, use t: namespace for TEI elements. The starting point of any Xpath should 
        be <code class="w3-codespan">$config:collection-root</code> if you are searching the entire dataset.</p>
    <p>You can also use, as a cached and short form to point to collections the following variables:
        <code class="w3-codespan">$config:collection-rootMS</code> for manuscripts; <code class="w3-codespan">$config:collection-rootW</code> for Textual Units
        <code class="w3-codespan">$config:collection-rootPl</code> for places; <code class="w3-codespan">$config:collection-rootPr</code> for persons;
        <code class="w3-codespan">$config:collection-rootIn</code> for repositories; <code class="w3-codespan">$config:collection-rootA</code> for authority files.
        If you want to search for Places and Repositories, you can use <code class="w3-codespan">$config:collection-rootPlIn</code>
    </p>
    </div>
    
    <div data-template="app:logging"/>
    <div class="w3-container w3-justify ">
        <form action="" class="w3-container">
                    <input placeholder="e.g. start with $config:collection-root//t:" class="w3-input" name="xpath"/>
                    
                        <button type="submit" class="w3-btn w3-red"> Run
                    </button>
                    
        </form>
    </div>
    <div data-template="app:xpathQuery" class="w3-margin w3-padding">
        <div id="xpathresults">
            <div class="w3-container" data-template="app:xpathresultstitle"/>
            <div class="w3-center w3-margin-bottom">
                <div class="w3-bar w3-border w3-round" data-template="app:paginateNew" data-template-per-page="20" data-template-max-pages="9" data-template-min-hits="21"/>
        </div>
        <!-- query results -->
            
            <div data-template="app:XpathRes" data-template-per-page="20" id="results" class="w3-container">
                
                
            </div>
                
            
            <div class="w3-center  w3-margin-top">
                <div class="w3-bar w3-border w3-round" data-template="app:paginateNew" data-template-per-page="20" data-template-max-pages="9" data-template-min-hits="21"/>
            </div>
        </div>
    </div>
    <div class="w3-panel w3-margin w3-padding w3-red">Please enter a well formed Xpath expression in the input field above.</div>
    <div class="w3-container">Examples:<br/>
        Persons marked up in colophons: $config:collection-rootMS//t:colophon[t:persName]<br/>
        Manuscripts with at least 26 additions: $config:collection-rootMS//t:additions/t:list/t:item[@xml:id='a26']<br/>
        Manuscripts with a text marked up as Amharic: $config:collection-rootMS//t:TEI[descendant::t:textLang[@mainLang='am' or @otherLangs='am']]<br/>
        Manuscripts with additions that contain something tagged Amharic: $config:collection-rootMS//t:TEI[not(contains(@xml:id, 'IHA'))]//t:additions[descendant::t:*[@xml:lang='am']]<br/>
        Records with the title with the subtype inscriptio: $config:collection-root//t:title[contains(@subtype,'inscriptio')]<br/>
        Manuscripts that have at least 31 quires: $config:collection-rootMS//t:collation/t:list[count(t:item) ge 31]<br/>
        Manuscripts where a roleName appears: $config:collection-rootMS//t:roleName<br/>
        Additons of the type OwnershipNote: $config:collection-rootMS//t:additions/t:list/t:item[t:desc[@type='OwnershipNote']]<br/>
        Place records revised in 2022: $config:collection-rootPl//t:revisionDesc/t:change[contains(concat(' ', @when, ' '), '2022')]<br/>
        Work records that contain "Senodos" inside title: $config:collection-rootW//t:titleStmt/t:title[contains(.,'Senodos')]<br/>
        Works that contain the string "Senodos" somewhere: $config:collection-rootW//*[contains(.,'Senodos')]<br/>
        Person record which have at least some attribute for birth and death (can be when, notBefore, notAfter) elements and occupation type ruler: $config:collection-rootPr//t:person[t:birth[@*]][t:death[@*]][t:occupation[@type='ruler']]<br/>
        Manuscripts with miniatures in them: $config:collection-rootMS//t:decoDesc[t:decoNote[@type='miniature']]<br/>
        Manuscripts with an addition element typed Ownership Note followed by another one with type Supplication: $config:collection-rootMS//t:additions/t:list/t:item[t:desc[@type='OwnershipNote']][following-sibling::t:item[t:desc[@type='Supplication']]]
        
    </div>
    
</div>