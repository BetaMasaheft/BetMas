<div xmlns="http://www.w3.org/1999/xhtml" data-template="templates:surround" data-template-with="templates/sparql.html" data-template-at="content">
    <div class="w3-container w3-margin w3-padding-64">
        <p>Thanks to this package by <a href="https://github.com/ljo/exist-sparql" target="_blank">ljo</a>, you can enter here your SPARQL query to the RDF representation of the data. PLEASE use single quotes ' not double.</p>
    <p>PREFIXes are already there (see below), so you can start with SELECT.  If you prefer  to use your prefixes, do so, no problem. A super tutorial on how to build SPARQL queries is <a href="https://jena.apache.org/tutorials/sparql_basic_patterns.html">here at Apache Jena</a>
    </p>
    
    <div data-template="app:logging"/>
    <div class="w3-container w3-margin-bottom">
        <div class="w3-half w3-padding">
        <form action="" class="w3-container">
            <div class="w3-container">
                <input id="endpoint" value="/api/SPARQL/json" type="text" hidden="hidden"/>
                    <textarea class="w3-input w3-border" id="sparql" name="query" style="height:200px">
                    </textarea>
                        <br/>
                    
                <button type="button" class="w3-button w3-red" onclick="exec()">
                            Run your query (results with d3sparql.js)
                        </button>
                <button type="submit" class="w3-button w3-gray ">
                    try local XSLT table visualization
                </button>
                        <br/>
                <small>
                    <br/>PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
                    <br/>PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
                    <br/>PREFIX lawd: &lt;http://lawd.info/ontology/&gt;
                    <br/>PREFIX oa: &lt;http://www.w3.org/ns/oa#&gt;
                    <br/>PREFIX ecrm: &lt;http://erlangen-crm.org/current/&gt;
                    <br/>PREFIX crm: &lt;http://www.cidoc-crm.org/cidoc-crm/&gt;
                    <br/>PREFIX gn: &lt;http://www.geonames.org/ontology#&gt;
                    <br/>PREFIX agrelon: &lt;http://d-nb.info/standards/elementset/agrelon.owl#&gt;
                    <br/>PREFIX rel: &lt;http://purl.org/vocab/relationship/&gt;
                    <br/>PREFIX dcterms: &lt;http://purl.org/dc/terms/&gt;
                    <br/>PREFIX bm: &lt;https://betamasaheft.eu/&gt;
                    <br/>PREFIX pelagios: &lt;http://pelagios.github.io/vocab/terms#&gt;
                    <br/>PREFIX syriaca: &lt;http://syriaca.org/documentation/relations.html#&gt;
                    <br/>PREFIX saws: &lt;http://purl.org/saws/ontology#&gt;
                    <br/>PREFIX snap: &lt;http://data.snapdrgn.net/ontology/snap#&gt;
                    <br/>PREFIX pleiades: &lt;https://pleiades.stoa.org/&gt;
                    <br/>PREFIX wd: &lt;https://www.wikidata.org/&gt;
                    <br/>PREFIX dc: &lt;http://purl.org/dc/elements/1.1/&gt;
                    <br/>PREFIX skos: &lt;http://www.w3.org/2004/02/skos/core#&gt;
                    <br/>PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
                    <br/>PREFIX t: &lt;http://www.tei-c.org/ns/1.0&gt;
                    <br/>PREFIX sdc: &lt;https://w3id.org/sdc/ontology#&gt;
                    <br/>PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
                </small>
            </div>
        </form>
            <p>You can also use the API to query the SPARQL endpoint, using https://betamasaheft.eu/api/SPARQL with the query in a parameter <i>q</i>. The results are SPARQL Query Results XML Format, as the one visualized below.</p>
    </div>
        <div class="w3-half w3-padding">
            <div class="w3-container">
                <p>In the <a href="https://betamasaheft.eu/Guidelines/?id=ontologyView" target="_blank">Beta maṣāḥǝft Guidelines</a> you can find the OWLDoc Documentation and a
                    visualization thanks to <a href="http://vowl.visualdataweb.org/webvowl.html" target="_blank">webVOWL</a> of the current <a href="https://raw.githubusercontent.com/BetaMasaheft/RDF/master/betamasaheft.owl" target="_blank">ontology</a> developed with Protégé.</p>
                <p>Some examples of the data you are querying</p>
                <ul>
                    <li>
                        <a href="/rdf/works/LIT3122Galaw.rdf" target="_blank">Literary Work Record</a>
                    </li>
                    <li>
                        <a href="/rdf/manuscripts/BNFet32.rdf" target="_blank">Manuscript Record</a>
                    </li>
                    <li>
                        <a href="/rdf/places/LOC1261Adulis.rdf" target="_blank">Place Record</a>
                    </li>
                </ul>
                <p>Documentation on Linked Open Data can be found <a target="_blank" href="https://betamasaheft.eu/lod.html">here</a>.</p>
            </div>
        </div>
    </div>
        <div class="w3-container w3-margin-bottom">
     <p>The results presented here are visualized with <a href="https://github.com/ktym/d3sparql" target="_blank">d3sparql</a>
        </p>   
            <div class="w3-container w3-margin-bottom" id="resulttable"/>
        
            <div class="w3-container w3-margin-bottom" id="result"/>
    </div>
        <div class="w3-container w3-margin-bottom">
        <div data-template="app:sparqlQuery">
        <div data-template="app:sparqlRes"/>
        </div>
    </div>
    </div>
</div>